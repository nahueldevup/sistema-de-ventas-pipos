import{c as t,r as o,j as e}from"./app-Bi53cwRe.js";const i=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],h=t("circle-arrow-down",i);const x=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],p=t("circle-arrow-up",x),m=o.forwardRef(({data:r},l)=>{if(!r)return null;const d=r.difference===0?"text-green-700":r.difference>0?"text-blue-700":"text-red-700",a=r.difference===0?"bg-green-50 border-green-200":r.difference>0?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200",c=r.difference===0?"Balance Perfecto":r.difference>0?"Sobrante":"Faltante";return e.jsxs("div",{ref:l,className:"p-8 bg-white text-black w-[800px] mx-auto print:w-full print:p-6",children:[e.jsxs("div",{className:"text-center mb-6 border-b-2 border-gray-300 pb-4",children:[e.jsx("h1",{className:"text-2xl font-bold uppercase mb-2",children:"Reporte de Cierre de Caja"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Mi Tienda POS"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Av. Siempre Viva 123 | Tel: 555-1234"}),e.jsxs("div",{className:"mt-3 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Fecha:"})," ",r.fecha]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Responsable:"})," ",r.usuario]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-3 bg-gray-100 p-2",children:"Resumen Financiero"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"border border-gray-300 p-3 rounded",children:[e.jsx("h3",{className:"font-bold text-sm mb-2 text-gray-700",children:"Datos del Sistema"}),e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-1",children:"Ventas Efectivo:"}),e.jsxs("td",{className:"text-right font-semibold text-green-700",children:["$"," ",Number(r.sales_cash).toFixed(2)]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-1",children:"Ventas Digitales:"}),e.jsxs("td",{className:"text-right font-semibold text-blue-700",children:["$"," ",Number(r.sales_digital).toFixed(2)]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-1",children:"+ Ingresos Manuales:"}),e.jsxs("td",{className:"text-right font-semibold text-green-600",children:["$"," ",Number(r.manual_incomes).toFixed(2)]})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-1",children:"- Egresos Manuales:"}),e.jsxs("td",{className:"text-right font-semibold text-red-600",children:["$"," ",Number(r.manual_expenses).toFixed(2)]})]}),e.jsxs("tr",{className:"font-bold border-t-2 border-gray-400",children:[e.jsx("td",{className:"py-2",children:"Esperado en Cajón:"}),e.jsxs("td",{className:"text-right text-lg",children:["$"," ",Number(r.expected_cash).toFixed(2)]})]})]})})]}),e.jsxs("div",{className:"border border-gray-300 p-3 rounded",children:[e.jsx("h3",{className:"font-bold text-sm mb-2 text-gray-700",children:"Resultado del Arqueo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 p-3 rounded text-center",children:[e.jsx("p",{className:"text-xs uppercase text-yellow-800 font-semibold",children:"Dinero Contado"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["$ ",Number(r.counted_cash).toFixed(2)]})]}),e.jsxs("div",{className:`border p-3 rounded text-center font-bold ${a} ${d}`,children:[e.jsx("p",{className:"text-sm",children:c}),r.difference!==0&&e.jsxs("p",{className:"text-xl",children:["$"," ",Math.abs(r.difference).toFixed(2)]})]}),r.notes&&e.jsxs("div",{className:"bg-gray-50 border border-gray-300 p-2 rounded text-xs italic text-gray-700",children:[e.jsx("strong",{children:"Notas:"})," ",r.notes]})]})]})]})]}),r.movements&&r.movements.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-3 bg-gray-100 p-2",children:"Movimientos Manuales del Día"}),e.jsxs("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Hora"}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Tipo"}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Descripción"}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Usuario"}),e.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Monto"})]})}),e.jsx("tbody",{children:r.movements.map((s,n)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 p-2",children:new Date(s.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsx("td",{className:"border border-gray-300 p-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${s.type==="ingreso"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.type.toUpperCase()})}),e.jsx("td",{className:"border border-gray-300 p-2",children:s.description}),e.jsx("td",{className:"border border-gray-300 p-2",children:s.user.name}),e.jsxs("td",{className:`border border-gray-300 p-2 text-right font-bold ${s.type==="ingreso"?"text-green-600":"text-red-600"}`,children:[s.type==="ingreso"?"+":"-"," ","$ ",Number(s.amount).toFixed(2)]})]},n))})]})]}),e.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-gray-300 text-center text-xs text-gray-500",children:[e.jsx("p",{children:"Este documento es un comprobante oficial del cierre de caja"}),e.jsxs("p",{className:"mt-1",children:["Impreso el ",new Date().toLocaleString("es-ES")]})]})]})});m.displayName="ReporteCaja";export{h as C,m as R,p as a};
